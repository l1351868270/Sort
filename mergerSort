// mergeSort.cpp : 定义控制台应用程序的入口点。
//

#include "stdafx.h"
#include "stdio.h"
#include <iostream>

void  merge(int arr[], int p, int q, int r);
void mergeSort(int arr[],int p,int r);

int main()
{

	std::cout << "Hello world!"<< std::endl;
	int a[4] = {2,1,3,0};
	//merge(a, 0, 1, 4);
	mergeSort(a, 0, 3);
	//for (int i = 0;i < 4; ++i)
	//{
	//	std::cout << "a[" << i <<"]=" << a[i] << std::endl;
	//}
	system("pause");

    return 0;
}
void mergeSort(int arr[], int x, int y)
{
	//int x = p;
	//int y = r;
	if (x < y)
	{
		int q = float((x + y) / 2);
		//mergeSort(arr, x, q);
		mergeSort(arr, q+1, y);
		merge(arr,x,q,y);
		std::cout << q << std::endl;
		for (int i = 0; i < 4; ++i)
		{
			std::cout << "a[" << i << "]=" << arr[i] << std::endl;
		}
	}
	

	
}

void merge(int arr[], int p, int q, int r)
{
	const int n1 = q - p + 1;
	const int n2 = r - q;

	int *L = new int[n1];
	int *R = new int[n2];
	for (int i = 0; i < n1; ++i)
	{
		L[i] = arr[p + i ];
		std::cout << "L[" << i << "]=" << L[i] << std::endl;
	}
	for (int j = 0 ; j < n2; ++j) 
	{
		R[j] = arr[q + j+1];
		std::cout << "R[" << j << "]=" << R[j] << std::endl;
	}
	
	int i = 0, j = 0,k=p;

	while( i<n1 && j<n2)
	{ 
		if (L[i]<= R[j] )
		{
			arr[k] = L[i];
			++i;
			++k;
		}
		else if(L[i] > R[j] )
		{
			arr[k] = R[j];
			++j;
			++k;
		}
	}
	while (i < n1)
	{
		arr[k] = L[i];
		++i;
		++k;
	}
	while (j < n2)
	{
		arr[k] = R[j];
		++j;
		++k;
	}
}
